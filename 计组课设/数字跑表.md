# 数字跑表

## 分频器

### 已知条件

1. **输入时钟频率**:
    根据前面计算，输入时钟频率 finput=1 kHzf_{\text{input}} = 1 \, \text{kHz}（周期 Tinput=1 msT_{\text{input}} = 1 \, \text{ms}）。
2. **目标输出频率**:
    foutput=1 kHzf_{\text{output}} = 1 \, \text{kHz}。

------

### 分频系数计算

分频系数 NN 表示输入时钟与目标输出时钟频率的倍数关系：

N=finputfoutputN = \frac{f_{\text{input}}}{f_{\text{output}}}

代入已知条件：

N=10001000=1N = \frac{1000}{1000} = 1

------

### 结论

分频系数 NN 为 **1**，也就是说，不需要实际分频，因为输入时钟已经是 1 kHz1 \, \text{kHz}。

------

### 验证

分频器的作用是降低频率。如果目标输出频率与输入频率相同（如本例中都是 1 kHz），分频器实际上不需要做任何额外操作，输入信号可以直接作为输出信号。

## 计数器

## 显示器

| 数字 | 7段编码（a-g） |
| ---- | -------------- |
| 0    | 1111110        |
| 1    | 1              |
| 2    | 0x5B           |

# CPU 处理

## 处理指令

### ori

![image-20250110012128118](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250110012128118.png)

### and, or, nor,xor



![image-20250110011535965](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250110011535965.png)

### andi , xori 

![image-20250110011633551](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250110011633551.png)

### lui

![image-20250110011650095](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250110011650095.png)

### sll, sllv, sra, srav, srl,srlv

![image-20250110011749148](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250110011749148.png)



### nop, ssnop ,sync, pref

![image-20250110011906621](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250110011906621.png)



### mfhi, mflo, mthi, mtlo

![image-20250110020710451](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250110020710451.png)

### add, addu, sub, subu, slt sltu

![image-20250110160804011](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250110160804011.png)

### addi, addiu, slti, sltiu

![image-20250110160909266](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250110160909266.png)

### mul, mult, multu

![image-20250110161057445](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250110161057445.png)

### madd , msub

![image-20250110174229792](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250110174229792.png)

### div, divu

![image-20250110180120013](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250110180120013.png)

### jr, jalr, j,  jal

![image-20250111000312443](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250111000312443.png)

### b, bal, beq, bgez,  bgezal, bgtz., bgtz,  blez, bltz, bltzal, bne

![image-20250111000509505](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250111000509505.png)

### lw, sw

![image-20250111113956562](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250111113956562.png)

![image-20250111114004994](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250111114004994.png)

![image-20250111114018475](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250111114018475.png)



| ADD   |      |
| ----- | ---- |
| ADDU  |      |
| ADDUI |      |
| SUB   |      |
| SUBU  |      |
| OR    | 1    |
| AND   | 1    |
| XOR   | 1    |
| NOR   | 1    |
| SLT   |      |
| SLTU  |      |
| SLL   | 1    |
| SRL   | 1    |
| SRA   | 1    |
| LUI   | 1    |
| LW    |      |
| SW    |      |
| BEQ   |      |
| BNE   |      |
| JAL   |      |
| JR    |      |
| addi  |      |
| addi  |      |
| andi  |      |
| div   |      |
| divu  |      |
| mfhi  | 1    |
| mflo  | 1    |
| mthi  | 1    |
| mtlo  | 1    |
| mult  |      |
| multu |      |
| ori   | 1    |
| sllv  | 1    |
| slti  | 1    |
| sltiu | 1    |
| srav  | 1    |
| srlv  | 1    |
| sub   |      |
| xori  | 1    |

## 数据前推

### 普通指令数据前推

![image-20250109112215442](C:\Users\34999\AppData\Roaming\Typora\typora-user-images\image-20250109112215442.png)

### load指令数据

## 指令暂停

1. 控制PC的增加，暂停读取下一条指令

2. 控制锁存器的输出，
   1. 控制各指令模块的执行，锁存器输出空指令， 原有数据被锁存在锁存器中
   2. 当模块暂停后恢复正常工作时，锁存器会继续输出原有的有效数据（即之前存储的数据），从而保证数据不丢失或中断流水线的正确运行



## 缓冲槽





